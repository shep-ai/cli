# Feature: shepkit-support-yaml-specs

> Support YAML-based spec definitions as the primary source of truth, with Markdown auto-generated for human readability.

## Status

- **Number:** 011
- **Created:** 2026-02-10
- **Branch:** feat/011-shepkit-support-yaml-specs
- **Phase:** Requirements

## Problem Statement

The current spec-driven workflow uses Markdown files (`spec.md`, `research.md`, `plan.md`, `tasks.md`) as the source of truth for feature specifications. Shep-kit skills parse these files with fragile `grep`/`awk` patterns on Markdown headers (e.g., `## Section Name`), making parsing error-prone and difficult to extend. Meanwhile, `feature.yaml` already demonstrates that YAML-based machine-readable tracking is more reliable.

Adopting YAML as the primary spec format would enable:

- **Robust, schema-validated parsing** instead of regex-based extraction
- **Programmatic feature discovery** and cross-spec analysis
- **Consistent structure** enforced by YAML schemas
- **Auto-generated Markdown** for human readability without manual sync burden

## Success Criteria

- [ ] All shep-kit skills can read/write specs in YAML format (`spec.yaml`, `research.yaml`, `plan.yaml`, `tasks.yaml`)
- [ ] Markdown files are auto-generated from YAML sources and committed to git (human-readable, not manually edited)
- [ ] YAML spec schemas exist with validation (JSON Schema or equivalent)
- [ ] Existing validation gates work against YAML specs (open questions, TDD phases, task counts)
- [ ] `init-feature.sh` scaffolds YAML templates instead of Markdown templates
- [ ] A Node.js script handles YAML parsing and Markdown generation (leveraging existing pnpm/Node toolchain)

## Affected Areas

| Area                                             | Impact     | Reasoning                                                                                |
| ------------------------------------------------ | ---------- | ---------------------------------------------------------------------------------------- |
| `.claude/skills/shep-kit:*/`                     | **High**   | All skills need updated parsing logic (YAML via Node.js instead of grep/awk on Markdown) |
| `.claude/skills/shep-kit:new-feature/templates/` | **High**   | Templates change from Markdown to YAML format                                            |
| `.claude/skills/shep-kit:new-feature/scripts/`   | **Medium** | `init-feature.sh` updated to scaffold YAML files and generate initial Markdown           |
| `.claude/skills/shep-kit:implement/validation/`  | **High**   | Validation gates rewritten to parse YAML instead of Markdown headers                     |
| `specs/*/`                                       | **Medium** | Existing specs (001-010) remain as-is; new specs (011+) use YAML-first approach          |
| `docs/development/spec-driven-workflow.md`       | **Low**    | Documentation updated to reflect YAML-first approach                                     |

## Dependencies

None identified.

## Size Estimate

**L** - Touches all shep-kit skills, templates, validation scripts, and documentation. Many files to update but each change is conceptually straightforward (parsing logic swap from grep/awk to Node.js YAML parsing).

## Open Questions

None - requirements are clear.

- New specs only (011+) use YAML; existing specs (001-010) remain in Markdown
- YAML parsing via Node.js scripts (leveraging existing project toolchain)
- Auto-generated Markdown is committed to git for GitHub PR readability

---

_Generated by `/shep-kit:new-feature` â€” proceed with `/shep-kit:research`_
